<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>readmefull – Tidyverse Skeptic</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-79108a0fc1995748cbd19a5b0e3e3e7c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="tidyverseskeptic" class="level1">
<h1>TidyverseSkeptic</h1>
<p>An alternate view of the Tidyverse “dialect” of the R language, and its promotion by RStudio.</p>
<section id="norm-matloff-prof.-of-computer-science-uc-davis-former-prof.-of-statistics-at-ucd" class="level2">
<h2 class="anchored" data-anchor-id="norm-matloff-prof.-of-computer-science-uc-davis-former-prof.-of-statistics-at-ucd">Norm Matloff, Prof.&nbsp;of Computer Science, UC Davis (former Prof.&nbsp;of Statistics at UCD)</h2>
</section>
</section>
<section id="disclaimer" class="level1">
<h1>Disclaimer</h1>
<p>This essay is somewhat frank, involving the very popular Tidyverse and RStudio. I hope it is polite and taken as constructive criticism.</p>
<p>I like and admire the RStudio people, including the Tidyverse originator, Hadley Wickham, and have always supported them, both privately and <a href="https://matloff.wordpress.com/2018/02/22/xie-yihui-r-superstar-and-mensch/">publicly</a>. They and I have been interacting from the beginning, when the firm consisted of only founder JJ Allaire and ace developer Joe Cheng. I highly praise the firm to my students, and I use and recommend Hadley’s (non-Tidyverse) packages <strong>ggplot2</strong> and <strong>stringr</strong>, and on occasion <strong>devtools</strong> has been an absolute lifesaver for me.</p>
<p>In other words, I don’t consider RStudio to be some evil cabal. I state at various places in this essay that I think their actions have been well-intentioned. Nevertheless, I believe that <strong>RStudio took a wrong turn when it decided to promote the Tidyverse</strong>, which has led to a situation in which the unity and health of the language is at stake.</p>
<p><a href="http://heather.cs.ucdavis.edu/matloff.html">My bio is here.</a> Specifically in terms of R, I’ve been an R user and developer since near the beginning, having used R’s predecessor S before that. I’ve published several books that use R, and am currently (2019) the Editor-in-Chief of the <em>R Journal</em>. (Hadley is a former EiC on the journal.)</p>
</section>
<section id="sections" class="level1">
<h1>SECTIONS:</h1>
<ul>
<li><p><a href="#summ">Summary</a></p></li>
<li><p><a href="#notTidy">Tidyverse vs.&nbsp;ggplot2, stringr etc.</a></p></li>
<li><p><a href="#dpt">dplyr vs.&nbsp;data.table</a></p></li>
<li><p><a href="#teachable">Teachability</a> (to me, the most important issue)</p></li>
<li><p><a href="#divers">Diversity issues</a></p></li>
<li><p><a href="#status">R’s Status as an Open-Source Language</a></p></li>
<li><p><a href="#recs">Recommendations</a></p></li>
</ul>
</section>
<section id="summary" class="level1">
<h1><a name="summ"> </a> SUMMARY</h1>
<section id="teachability" class="level3">
<h3 class="anchored" data-anchor-id="teachability">Teachability</h3>
<ul>
<li><p>My biggest concern is involves teaching of R. <strong>Tidy makes it more DIFFICULT for nonprogrammer learners of R to become proficient in the language</strong>.</p></li>
<li><p>The Tidyverse arose from the desire to have a set of functions/packages that are consistent with each other, a “purist” philosophy that appeals, for instance, to computer scientists. The Tidyverse also borrows from other “purist” computer science (CS) philosophies, notably <em>functional programming</em> (FP). The latter is abstract and theoretical, <strong>difficult even for CS students</strong>, and thus it is clear <strong>Tidy is an unwise approach for nonprogrammer students of R.</strong></p></li>
<li><p><strong>Another price of purity is increased complexity and abstraction</strong>, making code more prone to error (as well as a sacrifice in performance).</p></li>
<li><p>In fact, the <strong>Tidyverse is general is far too complex for learners without prior coding background</strong>, causing what psychologists call <i>cognitive overload</i>.</p></li>
<li><p>Indeed, even many Tidy advocates concede that it is in various senses often more difficult to write Tidy code than base-R.<br>
Hadley says, for instance, “it may take a while to wrap your head around [FP].”</p></li>
<li><p>Thus, contrary to the claim made by RStudio for promoting the Tidyverse is that it makes R easier to teach to non-programmers, <strong>I would argue that, on the contrary, the Tidyverse makes R <em>harder</em> to learn for this group.</strong></p></li>
<li><p>RStudio has done an admirable job in bringing more women and underrepresented minorities into R. Yet by saddling them with the complicated Tidyverse system, RStudio has made it more difficult for these groups to make contributions to the language, in the form of writing CRAN packages, authoring books and so on. This of course is true for anyone, not just those in these groups, but it’s sad that RStudio is hurting the very people it wants to help.</p></li>
</ul>
</section>
<section id="rstudios-role-in-r-an-open-source-project" class="level3">
<h3 class="anchored" data-anchor-id="rstudios-role-in-r-an-open-source-project">RStudio’s role in R, an open source project</h3>
<ul>
<li><p>Any economist – or just plain common sense – will tell you that RStudio’s status as a moneyed commercial entity in a free, open source project is bound to have profound changes on that project.</p></li>
<li><p>The dominance of the commercial entity RStudio in an open-source project is key: <strong>It is NOT the case that Tidyverse rose to prominence due to sheer quality in a free market of ideas.</strong> Instead, that prominence arose from heavy promotion by RStudio. Hadley has 7 or 8 programmers working full time on Tidy, and RStudio engages in aggressive educational outreach, promoting Tidy. This is not how open-source projects usually work, where participants work in their free time.</p></li>
<li><p>In heavily promoting the Tidyverse, especially in the education realm, RStudio, with its dominance in the R field, is developing an entire new generation of R users whose skills in base-R are superficial at best, and who – most importantly – feel that R <em>is</em> the Tidyverse. This will shape the evolution of the language itself, in undesirable ways.</p></li>
<li><p><strong>Regardless of being well-intentioned, RStudio is molding R into its own desired image.</strong> That new generation will come to dominate the community, treating Tidyverse as the “real” base, and viewing the actual base-R as something akin to assembly language. One RStudio principal who asked to discuss this document with me referred to non-Tidy packages as being in the “legacy” realm. In other words, he expects that all future packages will eventually be wrtten in Tidy.</p>
<p>All this might be fine if the R community were unified in viewing Tidyverse as a high-level improvement, but many do not. They are not impressed by the much-vaunted consistent syntax and so on, and are worried about the slow performance of Tidy; some view Tidy as a gimmick.</p></li>
<li><p>That new generation will often be biased against non-Tidyverse job seekers, non-Tidyverse CRAN packages, and academics who submit non-Tidyverse data science research papers and grant proposals. <strong>The non-Tidyers will have no choice but to bend to RStudio’s wishes.</strong> Thus RStudio is essentially operating as a monopolist. It’s not a monopoly in the financial sense – Tidyverse is not directly enhancing RStudio’s profitability – and, as noted, is not intentional. But the result is classicly monopolistic, in the sense of one product dominating a market, stifling innovation etc. The adverse impacts are very serious and worsening.</p></li>
<li><p>One key example of the pernicious effects of this monopolistic situation is that RStudio’s promotion of the Tidyverse has alarmingly <strong>impeded the progress and adoption of technologically superior packages</strong>, notably <strong>data.table</strong>. Most in the “Tidyverse generation” are unaware of anything outside the Tidyverse. Hadley’s book, <em>R for Data Science</em>, with Garrett Grolemund, barely mentions <strong>data.table</strong>.</p></li>
</ul>
</section>
</section>
<section id="tidyverse-vs.-ggplot2-stringr-etc." class="level1">
<h1><a name="notTidy"> </a> TIDYVERSE VS. GGPLOT2, STRINGR ETC.</h1>
<p>RStudio bills the <strong>ggplot2</strong> graphics package as being part of the Tidyverse. Though again, as a commercial entity, this is a natural marketing move on RStudio’s part, it is inaccurate and misleading.</p>
<ul>
<li><p>Inaccurate, as <strong>ggplot2</strong> preceded Tidy by about 7 years, and does not use Tidy principles. Hadley himself <a href="https://community.rstudio.com/t/why-cant-ggplot2-use/4372">acknowledges this</a>, noting that <strong>ggplot2</strong> is incompatible with pipes, a central Tidy component, and he wishes he had designed the package around pipes.</p></li>
<li><p>Unless one defines the Tidyverse to consist of any package Hadley has ever written, inclusion of <strong>ggplot2</strong> in the Tidyverse is factually incorrect.</p></li>
<li><p>Misleading, because the (genuine) “Ooh! Ah!” qualtity of the <strong>ggplot2</strong> package “sells” beginners on the Tidyverse. I often hear them make statements like, “I love the Tidyverse, because I can create nice graphics.” They don’t realize that it’s a non-Tidy package that we non-Tidyers use all the time.</p></li>
</ul>
<p>There are similar problems with RStudio presenting the <strong>stringr</strong> package as Tidy, even though it predates Tidy by about 5 years, etc.</p>
</section>
<section id="dplyr-vs.-data.table" class="level1">
<h1><a name="dpt"> </a> DPLYR vs.&nbsp;DATA.TABLE</h1>
<p>The <strong>dplyr</strong> package is a featured app of the Tidyverse developed by Hadley, so I’ll use this as an example at several points in this essay.</p>
<p>(This is merely an example; <strong>dplyr</strong> vs.&nbsp;<strong>data.table</strong> is NOT the primary theme of this essay. Note too that I regard both <strong>dplyr</strong> and <strong>data.table</strong> as advanced topics; neither is suitable for beginners.)</p>
<p><strong>Dplyr</strong> borrowed a number of ideas from the earlier <strong>data.table</strong> by Matt Dowle. One of Hadley’s major motivations was to give the user a more “English-like” interface (a point to which I’ll return shortly).</p>
<p>Unfortunately, <strong>dplyr</strong> is much, much slower than <strong>data.table</strong> on large datasets. Here are some of the timing examples, for various operations, on the <a href="https://h2oai.github.io/db-benchmark/">H2O site</a> (times in seconds; see above URL for details):</p>
<table border="1">
<tbody><tr>
<td>
dplr
</td>
<td>
data.table
</td>
</tr>
<tr>
<td>
37.3
</td>
<td>
9.07
</td>
</tr>
<tr>
<td>
95.5
</td>
<td>
9.20
</td>
</tr>
<tr>
<td>
496
</td>
<td>
11.9
</td>
</tr>
</tbody></table>
<p>The differences are even starker in <a href="http://www.win-vector.com/blog/2019/05/timing-working-with-a-row-or-a-column-from-a-data-frame/">this study</a> by the consulting firm Win-Vec LLC, e.g.</p>
<p><img src="https://i0.wp.com/www.win-vector.com/blog/wp-content/uploads/2019/05/unnamed-chunk-1-2.png" height="300"></p>
<p>showing that <strong>dplyr</strong> can be extremely slow even relative to base-R, thus even worse relative to <strong>data.table</strong>.</p>
<p><strong>Matt’s data.table package in a sense helped to “save” R</strong>. At one point a few years ago there were major concerns that R could not handle Big Data, with calls from some in favor of Python instead. The <strong>data.table</strong> package showed that R could do quite well in large datasets. This really aided in R’s being adopted by various large companies, and likely played some role in the creation of the R Consortium, an industry-sponsored organizational that funds R projects.</p>
<p>Yet, RStudio, which as noted is heavily engaged in educational activities, both with its own courses and in interacting with teachers of R, has promoted its own product, <strong>dplyr</strong>, largely ignoring its rival, <strong>data.table</strong>. This is natural for a commercial entity, but in this case RStudio has a special responsibility as a dominant business in an open-source project.</p>
<p>Hadley did develop an interface, <strong>dtplyr</strong>, but even this is <a href="http://www.win-vector.com/blog/2019/06/data-table-is-much-better-than-you-have-been-told/">slow</a>. All sides agree that this is due to <strong>dplyr</strong> sticking to the FP approach.</p>
</section>
<section id="teachability-1" class="level1">
<h1><a name="teachable"> </a> TEACHABILITY</h1>
<p>Teaching has been a keen interest of mine since my college days. I’ve been a teacher of stat and computers for many years, and have won various teaching awards. My textbook, <em>Statistical Regression and Classification: from Linear Models to Machine Learning</em>, was the recipient of the 2017 Ziegel Award.</p>
<p>But it goes far beyond that; I really am intensely interested in how people learn, from children to middle-aged adults. Among other things, I’ve taught English As a Second Language to immigrant adults, most of whom have had less than a high school education.</p>
<p>In discussing teaching, I am taking the target audience here to be <strong>nonprogrammers who wish to use R for data analysis</strong>, not those who wish to become professional R programmers.</p>
<section id="the-tidyverse-advocates-claim" class="level3">
<h3 class="anchored" data-anchor-id="the-tidyverse-advocates-claim">The Tidyverse advocates’ claim</h3>
<p>As a lifelong passionate teacher, I strongly question the claim made by Tidyverse advocates that it facilitates the teaching of R to non-programmers, as opposed to teaching them base-R. (Again, I regard both <strong>dplyr</strong> and <strong>data.table</strong> as advanced topics; neither is suitable for beginners. On the other hand, I think teaching beginners <strong>ggplot2</strong> is fine, but point out again that it is not part of the Tidyverse.)</p>
<p>There has been no study of Tidy advocates’ teachability claim. Advocates often provide testimonials from students like</p>
<ul>
<li><p>“I learned R using Tidyverse, and now am productive in R”</p></li>
<li><p>“I like the English-like nature of the Tidyverse”</p></li>
<li><p>“I can make beautiful graphics with the Tidyverse”</p></li>
<li><p>“Tidyverse showed me the fluidity of data”</p></li>
</ul>
<p>Advocates who are instructors will echo those statements, and add, e.g.</p>
<ul>
<li><p>“Base-R is good for professional programmers, but the Tidyverse is the best R learning tool for non-techies who just want to do data analysis”</p></li>
<li><p>“R was created by statisticians, for statisticians. But we are data scientists, mainly interested in producing graphs and tables”</p></li>
<li><p>“The Tidyverse is <strong>modern</strong> R, for the rest of us”</p></li>
</ul>
<p>All of these statements are either misleading, irrelevant to the teachability issue, or downright meaningless. They say nothing at all about the teachability of base-R in comparison to Tidy. (It is ironic that advocates who present such statements are data scientists, who ought to know the need for a control group.)</p>
</section>
<section id="tidyverse-makes-learning-harder-due-to-adding-much-complexity" class="level3">
<h3 class="anchored" data-anchor-id="tidyverse-makes-learning-harder-due-to-adding-much-complexity">Tidyverse makes learning harder, due to adding much complexity</h3>
<p>Contrary to the Tidy advocates’ claim, I believe using the Tidyverse makes things more <em>difficult</em> for learners without prior programming background.</p>
<p><strong>There is a serious problem of cognitive overload.</strong> Tidyverse students are being asked to learn a much larger volume of material, which is clearly bad pedagogy. See <a href="https://www.r-bloggers.com/the-tidyverse-curse">“The Tidyverse Curse”</a>, in which the author says <em>inter alia</em> that he uses “only” 60 Tidyverse functions – 60! The “star” of the Tidyverse, <strong>dplyr</strong>, consists of 263 functions.</p>
<p>While a user initially need not use more than a small fraction of those functions, the high complexity is clear. Every time a user needs some variant of an operation, she must sift through those hundreds of functions for one suited to her current need.</p>
<p>Tidy advocates say the uniformity of interface in all those functions makes learning them easier. Uniform <em>syntax</em> is nice, yes, but the fact remains that users must learn the <em>semantics</em> of the functions, i.e. what operations they perform. What, for example, is the difference between <strong>summarize()</strong>, <strong>summarize_each()</strong>, <strong>summarize_at()</strong> and <strong>summarize_if()</strong>? Under which circumstances should each be used? The user must sift through this.</p>
<p>As <a href="https://atrebas.github.io/post/2019-03-03-datatable-dplyr">this excellent side-by-side tutorial</a> notes, <strong>data.table</strong> consists of a single function that can be used in a highly versatile manner, while in <strong>dplyr</strong>,</p>
<blockquote class="blockquote">
<p>…the syntax of dplyr is based on five main functions (filter(), arrange(), select(), mutate(), summarise()) and group_by() + their scoped variants (suffixed with _all, _at, or _if) + a bunch of helper functions.</p>
</blockquote>
<p>That’s a lot of functions to learn!</p>
<p>As Matt Dowle <a href="https://twitter.com/MattDowle/status/1142001162230489088">pointed out</a>,</p>
<blockquote class="blockquote">
<p>It isn’t one function <strong>mutate</strong> that you combine in a pipe. It’s <strong>mutate</strong>, <strong>mutate_</strong>, <strong>mutate_all</strong>, <strong>mutate_at</strong>, <strong>mutate_each</strong>, <strong>mutate_each_</strong>, <strong>mutate_if</strong>, <strong>transmute</strong>, <strong>transmute_</strong>, <strong>transmute_all</strong>, <strong>transmute_at</strong> and <strong>transmute_if</strong>. And you’re telling me [because of consistency of the user interfaces] you don’t need a manual to learn all those?</p>
</blockquote>
<p>Having a common syntax thus does not compensate for this dizzying complexity. As even one Tidy enthusiast <a href="https://twitter.com/tobar_with_R/status/1190974351060934657">conceded</a>:</p>
<blockquote class="blockquote">
<p>…when you come up with a clean, understandable code…you’ll feel more rewarded</p>
</blockquote>
<p>The poster concedes that coming up with a nice Tidy solution make require some hard thinking. Fine for an experienced R coder, but it makes no sense to inflict this on the nonprogrammer R learner. At their stage, simplicity is key.</p>
<p>By contrast, if the user knows base-R (not difficult), she can handle any situation. The old adage applies: “Give a man a fish, and he can eat for a day. Teach him how to fish, and he can eat for a lifetime.” The same is true for <strong>data.table</strong>.</p>
</section>
<section id="what-tidy-promoters-want-r-beginners-not-to-learn" class="level3">
<h3 class="anchored" data-anchor-id="what-tidy-promoters-want-r-beginners-not-to-learn">What Tidy promoters want R beginners NOT to learn</h3>
<p>The Tidyers make a point of avoiding the most basic parts of base-R:</p>
<ul>
<li><p>the ‘$’ operator</p></li>
<li><p>‘[[ ]]’</p></li>
<li><p>loops</p></li>
<li><p><strong>plot()</strong> and the associated basic graphics functions</p></li>
</ul>
<p>They would argue that this “simplifies” the learning process, but actually it forces beginners to come up with more complex, less intuitive and harder-to-read solutions.</p>
</section>
<section id="case-study-redoing-dalgaard" class="level3">
<h3 class="anchored" data-anchor-id="case-study-redoing-dalgaard">Case Study: Redoing Dalgaard</h3>
<p>Here is a quick example of the complexity of Tidy, and its consequent unsuitability for use in teaching nonprogrammer learners of R.</p>
<p>A researcher tweeted in December 2019 that an introductory statistics book by Peter Dalgaard is “now obsolete,” because it uses base-R rather than Tidy. (Details later on in this essay.) I replied that I thought the assertion that all books using R must now be revised to become Tidy-compliant” was outrageous.</p>
<p>I added that if he wished to use the book in his classes, he could write up Tidy versions of the code from the book, and give it to his students as a supplement. Think what that would involve, how much extra complexity it would add to the poor students.</p>
<p>Consider, for instance, an innocuous line like (not in the Dalgaard book)</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">hist</span>(Nile)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>i.e.&nbsp;drawing a simple histogram of R’s built-in Nile dataset.</p>
<p>This is something the instructor could have students do in the very first lesson. Easy! By contrast, the Tidy crowd forbids use of base-R plots, insisting on using <strong>ggplot2</strong> (which again is not Tidy, but is considered as such by the Tidy advocates). To be Tidy the instructor would have to do something like</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">library</span>(ggplot2)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> dn <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(Nile)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ggplot</span>(dn) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(Nile),dn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here the instructor would have a ton of things to explain – packages, data frames, <strong>ggplot()</strong>, the <strong>aes</strong> argument and so on – and thus she could definitely NOT present it in the first lesson.</p>
<p>Here’s an example from the book:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> thue2 <span class="ot">&lt;-</span> <span class="fu">subset</span>(thuesen,blood.glucose <span class="sc">&lt;</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This could easily be in the base-R instructor’s second lesson, if not the first. For Tidy, though, this would have to be changed to</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">library</span>(dplyr)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> thue2 <span class="ot">&lt;-</span> thue2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(blood.glucose <span class="sc">&lt;</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here the instructor would first have to teach the pipe operator ‘%&gt;%’, again extra complexity. And in so doing, she would probably emphasize the “left to right” flow of pipes, but the confused students would then wonder why, after that left-to-right flow, there is suddenly a right-to-left flow, with the ‘&lt;-’. (For some reason, the Tidy people don’t seem to use R’s ‘-&gt;’ op.)</p>
<p>Again, the Tidyverse is simply too complex for R learners without coding background. <strong>It slows down their learning process.</strong></p>
</section>
<section id="case-study-the-tapply-function" class="level3">
<h3 class="anchored" data-anchor-id="case-study-the-tapply-function">Case Study: the tapply() Function</h3>
<p>One of the most commonly-used functions in R is <strong>tapply()</strong>. As noted below, for some reason Tidy advocates hate this function, but arguably it is perfect for R beginners.</p>
<p>Consider a common example in tutorials on the Tidyverse, involving R’s <strong>mtcars</strong> dataset. The goal is to find mean miles per gallon, grouped by number of cylinders. The Tidy code offered is</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(cyl) <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarize</span>(<span class="fu">mean</span>(mpg))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here is the base-R version:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tapply</span>(mtcars<span class="sc">$</span>mpg,mtcars<span class="sc">$</span>cyl,mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Both are simple. Both are easily grasped by beginners. After being presented with some examples, beginners have no trouble using them in a new setting of similar type. The Tidy version requires two function calls rather than one for base-R. But again, both versions are simple, so let’s call it a tie. But is it certainly not the case that the Tidy version is <em>easier</em> to learn.</p>
<p>It’s instructive to look at what happens when one groups by two aspects:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mtcars <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span> <span class="fu">group_by</span>(cyl,gear) <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span> <span class="fu">summarize</span>(<span class="fu">mean</span>(mpg))</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 8 x 3</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Groups:   cyl [3]</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    cyl  gear <span class="st">`</span><span class="at">mean(mpg)</span><span class="st">`</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>       <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>     <span class="dv">4</span>     <span class="dv">3</span>        <span class="fl">21.5</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>     <span class="dv">4</span>     <span class="dv">4</span>        <span class="fl">26.9</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>     <span class="dv">4</span>     <span class="dv">5</span>        <span class="fl">28.2</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>     <span class="dv">6</span>     <span class="dv">3</span>        <span class="fl">19.8</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>     <span class="dv">6</span>     <span class="dv">4</span>        <span class="fl">19.8</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>     <span class="dv">6</span>     <span class="dv">5</span>        <span class="fl">19.7</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>     <span class="dv">8</span>     <span class="dv">3</span>        <span class="fl">15.0</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>     <span class="dv">8</span>     <span class="dv">5</span>        <span class="fl">15.4</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">tapply</span>(mtcars<span class="sc">$</span>mpg,<span class="fu">list</span>(mtcars<span class="sc">$</span>cyl,mtcars<span class="sc">$</span>gear),mean)</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>      <span class="dv">3</span>      <span class="dv">4</span>    <span class="dv">5</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="fl">21.50</span> <span class="fl">26.925</span> <span class="fl">28.2</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="fl">19.75</span> <span class="fl">19.750</span> <span class="fl">19.7</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span> <span class="fl">15.05</span>     <span class="cn">NA</span> <span class="fl">15.4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>With <strong>tapply()</strong>, students do have to be told that in the case of more than one grouping variable, they need to surround the variables with ‘list’. Again, once they are given examples, students have no trouble with this.</p>
<p>But look at the form of the output: The Tidy version outputs a tibble, rather hard to read, while <strong>tapply()</strong> outputs an R matrix, printed out as a two-way table. The latter form is exactly what many students need in their applications, e.g.&nbsp;social science research.</p>
<p>In searching through the hundreds of functions in <strong>dplyr</strong>, it is not clear to me which one, if any, can convert that Tidy output to the very informative tabular view that <strong>tapply()</strong> provides. If there is one, the fact that one is not easily identifiable illustrates my point above that Tidy is actually very bloated, not suitable for beginners.</p>
<p>Moreover, the <strong>tapply()</strong> output is more informative in a second sense, letting the user know that there were no 8-cyliner, 4-speed cars, again the kind of thing that is quite meaningful in many applications.</p>
<p>Actually, the Tidy version can be modified in order to notice that empty group:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mtcars<span class="sc">$</span>cyl <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(mtcars<span class="sc">$</span>cyl)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mtcars<span class="sc">$</span>gear <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(mtcars<span class="sc">$</span>gear)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> mtcars <span class="sc">%&gt;%</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>    <span class="fu">group_by</span>(cyl,gear,<span class="at">.drop=</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>    <span class="fu">summarize</span>(<span class="fu">mean</span>(mpg))</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 9 x 3</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Groups:   cyl [3]</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  cyl   gear  <span class="st">`</span><span class="at">mean(mpg)</span><span class="st">`</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>fct<span class="sc">&gt;</span> <span class="er">&lt;</span>fct<span class="sc">&gt;</span>       <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">4</span>     <span class="dv">3</span>            <span class="fl">21.5</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="dv">4</span>     <span class="dv">4</span>            <span class="fl">26.9</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="dv">4</span>     <span class="dv">5</span>            <span class="fl">28.2</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="dv">6</span>     <span class="dv">3</span>            <span class="fl">19.8</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="dv">6</span>     <span class="dv">4</span>            <span class="fl">19.8</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="dv">6</span>     <span class="dv">5</span>            <span class="fl">19.7</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span> <span class="dv">8</span>     <span class="dv">3</span>            <span class="fl">15.0</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span> <span class="dv">8</span>     <span class="dv">4</span>           <span class="cn">NaN</span>  </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span> <span class="dv">8</span>     <span class="dv">5</span>            <span class="fl">15.4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note the need to convert to factors, something not mentioned in the Tidy documentation, and which would further complicate things for R beginners even if it were documented.</p>
<p>So, in terms of clarity and learnability, the Tidy and base-R versions in this paricular example are both good, again showing that Tidy is not easier to learn. And In terms of usability, I’d give base-R the win here.</p>
</section>
<section id="use-of-functional-programming" class="level3">
<h3 class="anchored" data-anchor-id="use-of-functional-programming">Use of functional programming</h3>
<p>Another featured Tidyverse package, the <em>functional programming</em> (FP)-oriented library <strong>purrr</strong>, has 177 functions. Again the point about complexity applies; we again have the “too many functions to learn” problem as we saw with <strong>dplyr</strong> above.</p>
<p>At the basic level, FP is merely replacing loops by calls to FP functions. R’s <strong>apply</strong> family, plus <strong>Reduce()</strong>, <strong>Map()</strong> and <strong>Filter()</strong> should be considered FP. In many cases, using such functions is the right solution. But the indiscriminate use of FP, advocated by many Tidyers, to replace <em>all</em> loops is clearly overdoing it, and makes things especially difficult for beginners.</p>
<p>This is clear <em>a priori</em> – <strong>FP involves writing functions, a skill that most beginners take a long time to develop well.</strong></p>
<p>It is worth noting that top university Computer Science Departments have shifted away from teaching their introductory programming courses using the FP paradigm, in favor of the more traditional Python, as they deem FP to be more abstract and challenging.</p>
<p>An interesting discussion of the topic is in <a href="https://www-ps.informatik.uni-kiel.de/~mh/reports/fdpe02/papers/paper15.ps.gz">Charavarty and Keller</a>. Though they support using FP in introductory programming classes for CS majors, the authors’ goals are antithetical to those of R learners. The authors list three goals, one of which is to teach theoretical computer science, certainly not desirable for teaching R in general, let alone for teaching R to those with no coding experience. They also concede that a key concept in FP, <em>recursion</em>, is a “signficant obstacle” even for CS students.</p>
<p>If FP is tough for CS students, it makes no sense to have nonprogrammer learners of R use it.</p>
<p>Even Hadley, in <em>R for Data Science</em>, says:</p>
<blockquote class="blockquote">
<p>The idea of passing a function to another function is extremely powerful idea, and it’s one of the behaviours that makes R a functional programming language. It might take you a while to wrap your head around the idea, but it’s worth the investment.</p>
</blockquote>
<p>Actually, most non-FP languages allow passing one function to another, but yes it is a powerful tool, worth the investment of time – <em>for the experienced R programmer</em>. But again, it’s wrong to foce nonprogrammer learners of R to “wrap their heads around” <strong>purrr</strong>.</p>
</section>
<section id="purrr-vs.-base-r-example" class="level3">
<h3 class="anchored" data-anchor-id="purrr-vs.-base-r-example">purrr vs.&nbsp;base-R example</h3>
<p>Again, let’s use an <strong>mtcars</strong> example taken from <a href="https://towardsdatascience.com/functional-programming-in-r-with-purrr-469e597d0229">an online tutorial</a>. Here the goal is to regress miles per gallon against weight, calculating R<sup>2</sup> for each cylinder group. Here’s the Tidy solution, from the online help page for <strong>map()</strong>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split</span>(.<span class="sc">$</span>cyl) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(<span class="sc">~</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> wt, <span class="at">data =</span> .)) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(summary) <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map_dbl</span>(<span class="st">"r.squared"</span>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># output</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>         <span class="dv">6</span>         <span class="dv">8</span> </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="fl">0.5086326</span> <span class="fl">0.4645102</span> <span class="fl">0.4229655</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>There are several major points to note here:</p>
<ul>
<li><p>The R learner here must learn two different map functions for this particular example, and a dozen others for even basic use. This is an excellent example of Tidy’s cognitive overload problem. Actually, <strong>purrr</strong> has 52 different map functions! (See below.)</p></li>
<li><p>The first ‘~’ in that first map call is highly nonintuitive. Even experienced programmers would not be able to guess what it does. This is starkly counter to the Tidyers’ claim that Tidy is more intuitive and English-like.</p></li>
<li><p>Tidy, in its obsession to avoid R’s standard ‘$’ symbol, is causing all kinds of chaos and confusion here.</p>
<p>The hapless student would naturally ask, “Where does that expression ‘summary’ come from?” It would appear that <strong>map()</strong> is being called on a nonexistent variable, <strong>summary</strong>. In actuality, base-R’s <strong>summary()</strong> function is being called on the previous computation behind the scenes. Again, highly nonintuitive, and NOT stated in the online help page.</p>
<p>The poor student is further baffled by the call to <strong>map_dbl()</strong>. Where did that ‘r.squared’ come from? Again, Tidy is hiding the fact that <strong>summary()</strong> yields an S3 object with component <strong>r.squared</strong>. Yes, sometimes it is helpful to hide the details, but not if it confuses beginners.</p></li>
</ul>
<p>The fact is, <strong>R beginners would be much better off writing a loop here, avoiding the conceptually more challenging FP.</strong> But even if the instructor believes the beginner <em>must</em> learn FP, the base-R version is far easier:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>lmr2 <span class="ot">&lt;-</span> <span class="cf">function</span>(mtcSubset) {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>   lmout <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> wt,<span class="at">data=</span>mtcSubset)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summary</span>(lmout)<span class="sc">$</span>r.squared</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>u <span class="ot">&lt;-</span> <span class="fu">split</span>(mtcars,mtcars<span class="sc">$</span>cyl)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(u,lmr2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here <strong>lmr2()</strong> is defined explicitly, as opposed to the Tidy version, with its inscrutable ‘~’ within the <strong>map()</strong> call.</p>
<p>In a <a href="https://twitter.com/dgkeyes/status/1200532987000971264">Twitter discussion</a> of the above example, a Tidy advocate protested that the above <strong>purrr</strong> code was not appropriate for learners:</p>
<blockquote class="blockquote">
<p>Sure, but my original tweet was about teaching newbies. Your example is not really relevant to that because it’s about a VERY complex concept.</p>
</blockquote>
<p>Exactly my point! <strong>Newbies should write this as a loop, NOT using purrr</strong>. But the Tidy promoters don’t want learners to use loops. So the instructor using Tidy simply would avoid giving students such an example, whereas it would be easy for the base-R instructor to do so.</p>
<p>As noted, the Tidy version shown earlier is an illustration of the “too many functions to learn,” cognitive overload, problem we saw earlier with <strong>dplyr</strong>. Behold:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">ls</span>(package<span class="sc">:</span>purrr,<span class="at">pattern=</span><span class="st">'map*'</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">"as_mapper"</span>      <span class="st">"imap"</span>           <span class="st">"imap_chr"</span>       <span class="st">"imap_dbl"</span>      </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a> [<span class="dv">5</span>] <span class="st">"imap_dfc"</span>       <span class="st">"imap_dfr"</span>       <span class="st">"imap_int"</span>       <span class="st">"imap_lgl"</span>      </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a> [<span class="dv">9</span>] <span class="st">"imap_raw"</span>       <span class="st">"invoke_map"</span>     <span class="st">"invoke_map_chr"</span> <span class="st">"invoke_map_dbl"</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">13</span>] <span class="st">"invoke_map_df"</span>  <span class="st">"invoke_map_dfc"</span> <span class="st">"invoke_map_dfr"</span> <span class="st">"invoke_map_int"</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">17</span>] <span class="st">"invoke_map_lgl"</span> <span class="st">"invoke_map_raw"</span> <span class="st">"lmap"</span>           <span class="st">"lmap_at"</span>       </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">21</span>] <span class="st">"lmap_if"</span>        <span class="st">"map"</span>            <span class="st">"map_at"</span>         <span class="st">"map_call"</span>      </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">25</span>] <span class="st">"map_chr"</span>        <span class="st">"map_dbl"</span>        <span class="st">"map_depth"</span>      <span class="st">"map_df"</span>        </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">29</span>] <span class="st">"map_dfc"</span>        <span class="st">"map_dfr"</span>        <span class="st">"map_if"</span>         <span class="st">"map_int"</span>       </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">33</span>] <span class="st">"map_lgl"</span>        <span class="st">"map_raw"</span>        <span class="st">"map2"</span>           <span class="st">"map2_chr"</span>      </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">37</span>] <span class="st">"map2_dbl"</span>       <span class="st">"map2_df"</span>        <span class="st">"map2_dfc"</span>       <span class="st">"map2_dfr"</span>      </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">41</span>] <span class="st">"map2_int"</span>       <span class="st">"map2_lgl"</span>       <span class="st">"map2_raw"</span>       <span class="st">"pmap"</span>          </span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>[<span class="dv">45</span>] <span class="st">"pmap_chr"</span>       <span class="st">"pmap_dbl"</span>       <span class="st">"pmap_df"</span>        <span class="st">"pmap_dfc"</span>      </span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>[<span class="dv">49</span>] <span class="st">"pmap_dfr"</span>       <span class="st">"pmap_int"</span>       <span class="st">"pmap_lgl"</span>       <span class="st">"pmap_raw"</span>      </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>By contrast, in the base-R version, we indeed stuck to base-R! There are only four main functions to learn in the ‘apply’ family: <strong>apply()</strong>, <strong>lapply()</strong>, <strong>sapply()</strong> and <strong>tapply()</strong>.</p>
</section>
<section id="tibbles" class="level3">
<h3 class="anchored" data-anchor-id="tibbles">Tibbles</h3>
<p>Similarly, it is bad pedagogy to force students to learn tibbles, a more complex technology, instead of data frames, a simpler one. The types of situations that tibbles are meant to address should be an advanced topic, not for beginners with no coding background.</p>
<p>Those advanced situations involve data frames in which row/column elements are not <em>atomic</em> objects, i.e.&nbsp;not simple numbers, character strings or logical values. <strong>This is a “straw man” set up by the Tidy advocates’</strong>; R beginners are very unlikely to encounter data frames of this type.</p>
</section>
<section id="the-english-issue" class="level3">
<h3 class="anchored" data-anchor-id="the-english-issue">The English issue</h3>
<p>Again, the point most emphasized by Tidyverse advocates is that the Tidyverse is more teachable because of its “English-like” syntax.</p>
<p>Below is a comparison of the “English” <strong>dplyr</strong> to the “non-English” <strong>data.table</strong> (adapted from <a href="https://atrebas.github.io/post/2019-03-03-datatable-dplyr/">here</a>): We’ll again use R’s built-in <strong>mtcars</strong> dataset.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>mtdt <span class="ot">&lt;-</span> <span class="fu">as.data.table</span>(mtcars);  mtdt[cyl <span class="sc">==</span> <span class="dv">6</span>]  <span class="co"># data.table syntax</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>mttb <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(mtcars);  <span class="fu">filter</span>(mttb,cyl <span class="sc">==</span> <span class="dv">6</span>)  <span class="co"># dplyr syntax </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Is there really any difference? Can’t beginners, even without programming background, quickly adapt to either one after seeing a few examples? Even those who claim high teachability for <strong>dplyr</strong> do readily agree that their students could also easily pick up <strong>data.table</strong>, or for that matter my preference for beginners, base-R, given some examples.</p>
<p>We saw earlier that the <strong>purrr</strong> example,</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">split</span>(.<span class="sc">$</span>cyl) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(<span class="sc">~</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> wt, <span class="at">data =</span> .)) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(summary) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map_dbl</span>(<span class="st">"r.squared"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>would be baffling even to experienced (but non-R) programmers, starkly contradicting the claimed “English-like clarity” of Tidy. And the <strong>dplyr</strong> meaning of <strong>mutate</strong> is nowhere near its English meaning, and again, would not be guessed even by a non-R professional programmer.</p>
<p>In other words, though students may say they like the “English” aspect of Tidy, the benefit is illusory. They could become more proficient in R, <strong>more quickly</strong>, learning base-R than Tidy.</p>
<p>By the way, as noted below, the Tidy advocates don’t like the many base-R functions whose names <em>do</em> use English, e.g.&nbsp;<strong>plot()</strong>, <strong>lines()</strong>, <strong>aggregate()</strong> and <strong>merge()</strong>. Clearly, then, English is not the core issue.</p>
</section>
<section id="pipes" class="level3">
<h3 class="anchored" data-anchor-id="pipes">Pipes</h3>
<p>The Tidyverse also makes heavy use of <strong>magrittr</strong> <em>pipes</em>, e.g.&nbsp;writing the function composition <strong>h(g(f(x)))</strong> as</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="sc">%&gt;%</span>  <span class="fu">g</span>() <span class="sc">%&gt;%</span> <span class="fu">h</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Again, the pitch made is that this is “English,” in this case in the sense of reading left-to-right. But again, one might question just how valuable that is, and in any event, I personally tend to write such code left-to-right anyway, <em>without</em> using pipes:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">f</span>(x)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">g</span>(a)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">h</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>As a long-time teacher of programming languages (C, C++, Java, Pascal, Python, R, assembly language, etc.), I find the promotion of pipes troubling. The piped version hides the fact that <strong>g()</strong> and <strong>h()</strong> have an argument, which is invisible in the pipe expression.</p>
<p>Or if <strong>w()</strong> say, were to have two arguments, the first one being used in the pipe, that argument would be hidden, making it appear that there is only one argument:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> w <span class="ot">&lt;-</span> <span class="cf">function</span>(u,v) u<span class="sc">+</span><span class="dv">2</span><span class="sc">*</span>v</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">3</span> <span class="sc">%&gt;%</span> <span class="fu">w</span>(<span class="dv">5</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">13</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here <strong>w()</strong> has 2 arguments, but it looks like 1.</p>
<p>And what if we want that 3 to play the role of <strong>v</strong>, not <strong>u</strong>? Yes, <strong>magrittr</strong> has a way to do that, the “dot” notation:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">3</span> <span class="sc">%&gt;%</span> <span class="fu">w</span>(<span class="dv">5</span>,.)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">11</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>But that is yet another example of my point, that <strong>Tidy is burdening the R learner with extra, unnecessary complexity</strong>. Indeed, just as <strong>dplyr</strong>, with 263 functions, is far too complex for beginners, so are pipes. There are so many variations to learn that Hadley’s <em>R for Data Science</em> book devotes a full chapter to pipes, 3415 words.</p>
<p>As noted before, a beginner need learn only a small fraction of that material at first, but the above example of the dot notation is certainly not an advanced case. Again, each time the beginner is confronted with a new situation, she must sift through the myriad variants, of <strong>dplyr</strong>, <strong>purrr</strong>, pipes or whatever.</p>
<p>Moreover, what if the function <strong>h()</strong> above has two arguments, rather than just one, with each argument requiring functional composition? Pipes can’t be used there.</p>
<p>And even more importantly, even advocates of pipes concede that pipes make debugging more difficult; by contrast, my style above lends itself easily to debugging. And again, for large problems, piped code is slower.</p>
<p>The benefit of pipes claimed by the Tidyers is the “left to right” execution. They conceded that one can achieve this without pipes, but stress that this comes at the expense of setting up variables for the intermediate results. That’s a valid point, but is that small gain worth the increased cognitive load on R learners, increased debugging problems and so on? To me it clearly is not.</p>
</section>
<section id="code-readability" class="level3">
<h3 class="anchored" data-anchor-id="code-readability">Code readability</h3>
<p>The Tidyverse advocates also claim that the “English” in <strong>dplyr</strong> makes the code easier to <em>read</em>, not just write. To me, that is missing the point; as any instructor of software engineering can tell you, the best way to make code readable is to use REAL English, in good, meaningful code comments. And this is just as important, if not more so, for nonprogrammers.</p>
<p>See my <a href="http://github.com/matloff/R-Style-Guide">R style guide</a> for more on readability issues.</p>
</section>
<section id="summary-the-proper-status-of-the-tidyverse-in-teaching" class="level3">
<h3 class="anchored" data-anchor-id="summary-the-proper-status-of-the-tidyverse-in-teaching">Summary: the proper status of the Tidyverse in teaching</h3>
<p>As I said earlier, in discussions with those who report success in using the Tidyverse to teach beginning programmers, I ask whether their students are incapable of learning just base-R. They readily concede that the answer is no. Indeed, before the Tidyverse, throngs of people were learning base-R without any prior programming background.</p>
<p>As also mentioned, the Tidyverse can be difficult to debug, and run very slowly on large datasets. The perceived benefit of being “English-like” is illusory.</p>
<p>In short, in my view there is no advantage to teaching R through the Tidyverse, and some significant disadvantages. I think it is a mistake to feature the Tidyverse in teaching R to beginners, for these reasons:</p>
<ol type="1">
<li><p>Complexity and volume of the presented material.</p></li>
<li><p>Difficulty in debugging.</p></li>
<li><p>Inadequate generalizability.</p></li>
</ol>
</section>
</section>
<section id="diversity-issues" class="level1">
<h1><a name="divers"> </a> DIVERSITY ISSUES</h1>
<p>Around the mid-2010s, RStudio began a major effort to bring more women into R. Later, they also added underrepresented minorities to this, but their focus remains on gender, especially in its support of the R Ladies groups.</p>
<p>The firm deserves major credit for this. There are, however, two concerning issues here:</p>
<ul>
<li><p>One of the claims made by Tidyverse advocates – indeed for many, the <em>main</em> claim – is that teaching R using Tidy makes learning easier for women and minorities. One often sees R Ladies workshops promoting Tidy, and frequent claims along the lines of “The Tidyverse has brought large numbers of women and underrepresented groups into R.”</p>
<p>In essence, the view is that R must be “dumbed down” for these groups. As a long-time ardent, active supporter of social justice, I find this claim insulting to women and minorities, and again, not accurate.</p></li>
<li><p>By especially promoting Tidy to women and minorities, RStudio is making it more difficult for these groups to make real contributions to R. It is impossible for someone to write a CRAN package or write an R book without solid knowledge of base-R.</p></li>
</ul>
</section>
<section id="rs-status-as-an-open-source-language" class="level1">
<h1><a name="status"> </a> R’S STATUS AS AN OPEN-SOURCE LANGUAGE</h1>
<section id="the-long-arm-of-rstudio" class="level3">
<h3 class="anchored" data-anchor-id="the-long-arm-of-rstudio">The Long Arm of RStudio</h3>
<p><em>Ignorance of the non-RStudio world:</em></p>
<p>In the <a href="https://losangeles2019.satrdays.org/">SatRday LA conference</a>, April 6, 2019, a speaker who was actually explaining the advantages of <strong>data.table</strong> in large datasets said that package “was created by Matt Doyle [sic]. Who’s that? No one knows who he is.” He repeated later, “No one has ever heard of Matt Doyle.” Actually, many in the audience had indeed heard of Matt Dowle, but in that speaker’s world – the RStudio-educated world – his statement about lack of name recognition for Matt was sadly accurate. Such is the impact of RStudio on the field.</p>
<p><em>Huge promotion efforts by RStudio:</em></p>
<p>Hadley notes that base-R was mostly written 20 years ago. Hadley’s <a href="https://t.co/7Ey27asCH4">talk</a> in the 2016 useR! conference amounted to a manifesto, calling for R to “modernize” along Tidy lines. He conceded that this would involve “short-term pain,” yet believed it to be very much worthwhile. Again, given RStudio’s dominance and zealous promotion of Tidy, this revolution in R was sure to follow, which it has.</p>
<p>The Tidyverse is a vigorous promotional effort by RStudio that has come to dominate the R world. As mentioned, the firm has been especially active in the education realm, including gifts of funding and licensed software, and support for conferences. It offers Tidy tutorials at all R conferences, and so on. Well-intentioned and useful, to be sure, but with the conscious effect of increasing the firm’s influence, and some would argue, power. Some prominent figures in the R community who are beholden to RStudio or otherwise need to stay in the firm’s good graces, keep their negative opinions of the Tidyverse quiet.</p>
<p>A good example of the intent of RStudio to bring all of R to the Tidy world is the <strong>broom</strong> package (not written by RStudio, but featured on their Web site). Titled “Convert Statistical Analysis Objects into Tidy Tibbles,” its goal is to convert the output of numerous packages into Tidy form, i.e.&nbsp;to “Tidy-fy” R. I mentioned earlier a conversation with an RStudio principal who views non-Tidy packages as “legacy.”</p>
</section>
<section id="the-nature-of-support-for-the-tidyverse" class="level3">
<h3 class="anchored" data-anchor-id="the-nature-of-support-for-the-tidyverse">The nature of support for the Tidyverse</h3>
<p><em>Testimonials:</em></p>
<p>“Testimonials” are legion. Non-programmers who take Tidy-based R courses are delighted that they can now do some data analysis, and praise the Tidyverse without realizing they have no basis for comparison to base-R, <strong>data.table</strong> and so on.</p>
<p>As mentioned earlier, RStudio counts <strong>ggplot2</strong> as being part of the Tidyverse, but it was developed much earlier, and <a href="https://community.rstudio.com/t/why-cant-ggplot2-use/4372">does not generally follow the Tidy philosophy.</a> But as a result of such inclusion, I see many users who, being justly impressed with <strong>ggplot2</strong>, mistakenly think that the package is Tidy and thus is an advantage of being Tidy. This illustrates the mindset that has developed.</p>
<p><em>A Bandwagon Effect:</em></p>
<p>There is a Bandwagon Effect at work, not only for the Tidyverse but for RStudio in general. Many new R users, being educated in Tidy/RStudio, assume both are “standard,” and anything from RStudio is unquestioningly accepted as the proper way to do things.</p>
<p>One example of this view of RStudio as the “industry standard” arose in an <a href="https://www.r-bloggers.com/heather-turner-the-user-2014-interview/">interviewe</a> of prominent R developer Heather Turner, where the interviewe gushed in amazement that</p>
<blockquote class="blockquote">
<p>Her description of how she accomplishes her work is fascinating – including the fact that she prefers Emacs over RStudio!</p>
</blockquote>
<p>shocked that a major figure in R would not use RStudio. Similarly, many who teach R want to join Bandwagon as well, feeling they must teach the “latest” (or as noted, the perceived “industry standard”).</p>
<p>As noted, some analysts like the Tidyverse from a theoretical point of view, such as a conviction that functional programming is the best approach to coding. But for many others, Tidy is indeed a Bandwagon that they jump blindly, without understanding the issues.</p>
<p>At the aforementioned SatRday conference, for instance, one of the speakers was a recent math graduate, now working in the business world. She emphasized that she likes functional programming because she can view it as the concept of functional composition in math, as in the above example <strong>h(g(f(x)))</strong>. But as explained in our discussion of pipes above, the claimed benefit of pipes is that one can use them to AVOID doing functional composition.</p>
<p>This blind faith extends to other RStudio products, such as RMarkdown. On Tidy follower on Twitter, for example, mistakenly thought that one cannot write reproducible code – code that give the same result no matter when or where it is run – unless one uses RMarkdown. This of course is quite false; RMarkdown is neither necessary nor sufficient for reproducibility. But the poster had apparently heard “Use RMarkdown for reproducibilty,” and took it more literally than even RStudio meant it.</p>
<p>One sees this especially in the Tidyers’ view of R’s “apply” family of functions. For Tidy supporters, the biggest virtue is its English-like syntax. Yet ironically, the Tidyverse advocates’ worst criticism of base-R is aimed at functions that do have English names, the “apply” family. For some reason, <strong>tapply()</strong> is especially odious to them. I encounter many who proudly make a point of declaring that they would never use any function from the “apply” family. Such rigidity seems irrational to me, and symptomatic of the mentality that has developed.</p>
<p><em>Cult-like behavior:</em></p>
<p>There is often behavior of the type one sees in cults. I’ve seen statements on Twitter from “graduates” of Tidyverse training who actually apologize because their code did not use the Tidyverse. One post I saw came from a person who panicked with guilt because she had written a <strong>for</strong> loop rather than employ Tidyverse’s functional programming package <strong>purrr</strong>. In another tweet, the poster was angry because there was a name conflict between a long-established R function, <strong>select()</strong>, and one in the Tidyverse; he demanded that the original authors change the name, oblivious to the fact that theirs long preceded Tidyverse. As is typical with cults, they have mantras, e.g. “Tidyverse showed me the fluidity of data!” When asked what the mantras mean, many cannot offer an explanation.</p>
</section>
<section id="circle-the-wagons-behavior" class="level3">
<h3 class="anchored" data-anchor-id="circle-the-wagons-behavior">“Circle the wagons” behavior</h3>
<p>Any criticism of the Tidyverse in Twitter is pounced upon by the loyalists, often with vitriolic tones. Granted, Twitter is a rough-and-tumble forum, but sadly, some in RStudio itself have Twitter-blocked some of the critics, abruptly ending frank but civil conversation. In my case, one major RStudio developer <a href="https://twitter.com/romain_francois/status/1140860812837445632?s=19">made quite a show of it</a>, tweeting a screen shot in which “You have blocked this user” is repeated dozens of times. <strong>Given RStudio’s considering itself a leader in the R community, such childish, spiteful behavior is improper and counterproductive.</strong></p>
</section>
<section id="adverse-impact" class="level3">
<h3 class="anchored" data-anchor-id="adverse-impact">Adverse Impact</h3>
<p>Tidyverse advocate Roger Peng commented in his 2018 useR! address, “It will be interesting to see how things evolve, and whether the community can sustain multiple ways of programming. I think that it can, but that’s my opinion.” But this seems overly optimistic.</p>
<p>Given the dynamics described above, we will eventually, maybe rather soon, reach a point at which most R users will be Tidy, and have indeed “Never heard of Matt Dowle.”</p>
<p>This will make things very difficult for the non-Tidy R people: Non-Tidy job seekers who are excellent R coders will find that they are dismissed out of hand by Tidy interviewers; authors of non-Tidy CRAN code will find their contribution is considered useless; academics submitting data science research manuscripts or grant proposals will find that Tidy reviewers give them low scores. In short, R will have to bend to RStudio’s wishes.</p>
<p>For instance, the <a href="http://r4all.org/">R4All</a> authors of <a href="http://r4all.org/books/gswr2/"><em>Getting Started with R</em> (2nd ed.)</a> stressed in <a href="https://twitter.com/GSwithR/status/996830294367002625">a tweet</a> that their book is “Tidyverse compliant,” and on their Web page note the changes they made in their second edition (emphasis added):</p>
<blockquote class="blockquote">
<p>RStudio has emerged as a brilliant cross-platform interface to working with R. Furthermore, Hadley Wickham and colleagues, have developed several add-on packages including as dplyr, tidyr and ggplot2 that not only provide consistent and intuitive ways to work with your data, but are emerging as <strong>industry standards</strong> (academic and non-academic).</p>
</blockquote>
<blockquote class="blockquote">
<p>We couldn’t afford to ignore these developments. The second edition thus dispenses entirely with classic methods of using R, and instead embraces RStudio along with dplyr, tidyr and ggplot2.</p>
</blockquote>
<p>Similarly, a statement by the “bootcamp” Dataquest:</p>
<blockquote class="blockquote">
<p>Longtime Dataquest users may know that we’ve actually offered R courses for some time, but our old courses weren’t up to <strong>modern R standards</strong>. They didn’t make use of popular tidyverse packages like ggplot2 or teach students to work in RStudio, but these skills are now <strong>industry-standard</strong> for doing data science with R…</p>
</blockquote>
<p>(Note the false characterization of <strong>ggplot2</strong> as being part of the “Tidyverse.”)</p>
<p>In a <a href="https://twitter.com/kaz_yos/status/1203408440607068163">December 2019 tweet</a>, a researcher wrote about a popular book, <em>Introductory Statistics with R</em> by Peter Dalgaard,</p>
<blockquote class="blockquote">
<p>This now obsolete book was my introduction to biostatistics and R. I’m not sure if there is a better book with epidemiologically oriented examples these days.</p>
</blockquote>
<p>This is especially remarkable in that it’s a book on <em>statistics</em>, not R. The R language only plays a supporting role. Thus the notion that this book is now “obsolete” is shocking, and untenable.</p>
<p><em>This is classical monopolistic behavior.</em> It’s not a monopoly in the financial sense, as Tidyverse is not directly enhancing RStudio’s profitability, and, as noted, is not intentional. But the result is classicly monopolistic, in the sense of one product dominating a market, and attendant ills.</p>
<p>A highly insidious consequence of monopolies is the stifling of innovation. The case of <strong>data.table</strong> discussed above is a fine case in point.</p>
<p>An open-source project involves a people spending a large amount of time developing the project for free, no pay. Thus, for a commercial entity to then swoop down and exploit all that free labor for its own profit is fraught with peril. To then take over the product as its own is unconscionable. I have no doubt that RStudio was well-intentioned in this, sincerely believing in the Tidyverse, but many do not share this view, and RStudio should have worked with the R Core Group (see below), rather than taking action on its own.</p>
<p>The first major firm to become involved in R was Revolution Analytics (now part of Microsoft). There was much concern in the R community at the time over Revo’s potential negative impact on R, but instead, they turned out to be model corporate citizens. Ever since they began heavily promoting the Tidyverse, RStudio has failed this criterion.</p>
<p>As noted, I know and admire the people at RStudio, <em>but a commercial entity should not have such undue, unilateral influence on an open-source project.</em></p>
<p>It should be noted that neither Hadley nor anyone else one from RStudio is a memner of the elite, 20-member R Core Group, which guides the development of the language. The Tidyverse thus is tantamount to an <em>end-run around the leaders of this open-source project</em>. As any expert in organizational behavior will tell you, this does not augur well for the future health of R, in spite of undoubtedly being well-intentioned.</p>
<p>RStudio is a great company, staffed by many talented people. In my opinion, their one failing has been to run off on their own, rather than adhering to the norms of open-source projects.</p>
</section>
</section>
<section id="recommendations" class="level1">
<h1><a name="recs"> </a><a> RECOMMENDATIONS</a></h1><a>
<p><em>Teaching:</em></p>
<p>Courses in R, <strong>especially those aimed an nonprogrammers</strong>, should develop a solid grounding in base-R as first priority.</p>
<p>The proper placement of Tidy in R courses should be:</p>
<ul>
<li><p><strong>dplyr:</strong> Taught, along with <strong>data.table</strong>, at the Intermediate R level.</p></li>
<li><p><strong>purrr:</strong> Taught only at the Advanced level.</p></li>
<li><p>pipes: Taught at the Intermediate level, and presented as an <em>option</em> that some students may find useful in some situations (as opposed to being presented as <em>the</em> way one should work).</p></li>
</ul>
<p>I am certainly not saying one should only use base R; on the contrary, CRAN is a major advantage of R, which I use extensively, and to which R beginners should definitely be exposed.</p>
<p>But the Tidyverse should be considered advanced R, not for beginners, just as is the case for most complex CRAN packages, and should be presented, as noted, as an <em>option</em>, not as <em>they</em> way.</p>
<p><em>The role of RStudio:</em></p>
<p>In my view, RStudio can easily remedy the problem. It can take the following actions to greatly ameliorate the “monopolistic” problems:</p>
<ol type="1">
<li><p>Promote the teaching of base-R to beginners, treating the Tidyverse as an advanced topic. The popular book, <em>R for Everyone: Advanced Analytics and Graphics</em> (second ed.), by Jared Lander does exactly this!</p></li>
<li><p>In the various RStudio Web pages on writing fast R code, give <strong>data.table</strong> equal time.</p></li>
</ol>


</a></section><a>

</a></main><a> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</a></div><a> <!-- /content -->




</a></body></html>